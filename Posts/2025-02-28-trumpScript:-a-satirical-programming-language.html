<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="../style.css?v=10">
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">
<link rel="canonical" href="https://hansonbrook.com/Posts/2025-02-28-trumpScript:-a-satirical-programming-language">
        <link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://hansonbrook.com/rss.xml">
        <title>TrumpScript: A Satirical Programming Language – Eliora Hansonbrook</title>
		<meta property="og:title" content="TrumpScript: A Satirical Programming Language">
		<meta property="og:type" content="article">
		<meta property="og:url" content="https://hansonbrook.com/Posts/2025-02-28-trumpScript:-a-satirical-programming-language">
		<meta property="og:image" content="https://hansonbrook.com/Media/PreviewImage.png">
		<meta property="og:sitename" content="Eliora Hansonbrook">
        <meta name="description" content="Finally, thank you to my brother, Milo, who flew halfway across the United States to see me present TrumpScript. It’s been great hanging out with you, and thank you for putting up with me.">
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "TrumpScript: A Satirical Programming Language",
        "image": [
            "https://hansonbrook.com/Media/PreviewImage.png"
        ],
        "datePublished": "2025-02-28",
        "dateModified": "2025-02-28",
        "author": [{
          "@type": "Person",
          "name": "Eliora Hansonbrook",
          "url": "https://hansonbrook.com"
        }]
    }
    </script>
    
        <meta media = "(prefers-color-scheme: light)" name="theme-color" content="rgb(249, 245, 245)">
        <meta media = "(prefers-color-scheme: dark)" name="theme-color" content="rgb(20, 20, 30)">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>
    <body>
<div class = "topBar">
    <div class = "bigLink">
        <h2 class = "logoFont"><a href = "../">Eliora Hansonbrook</a></h2>
    </div>
    <div class = "center">
    <div><a href = "mailto:eliora@hansonbrook.com">Contact me</a></div>
    <div><a href = "../archive.html">Archive</a></div>
    </div>
</div>
        <div class = "navigationBar">
            <div>
<div class = "navigationBar">
    <div class = "bigLink">
        <h2 class = "logoFont"><a href = "../">Eliora Hansonbrook</a></h2>
    </div>
    <div>
        <div class="optionsBox">
            <div><a href = "mailto:eliora@hansonbrook.com">Contact me</a></div>
            <div><a href = "../archive.html">Archive</a></div>
        </div>
        <div class="vl"></div>
    </div>
</div>
            </div>
        </div>
        <div class = "mainContent">
            <div>
<div class="postInfo">
<h1 class="bigLink"><a href="../Posts/2025-02-28-trumpScript:-a-satirical-programming-language.html">TrumpScript: A Satirical Programming Language</a></h1>
<h4 class="postInfo">Published February 28, 2025</h4>
</div>
<p><em>For those of you who were able to attend my TrumpScript presentation on Friday, </em><strong><em>thank you!</em></strong><em> As promised, here is a more detailed technical report on the language.</em></p>
<p>TrumpScript is a concurrently compiled, statically typed, and procedural programming language written in Swift and C++. Unlike single-pass languages, TrumpScript is designed for parallel compilation. Because of an extended development process, TrumpScript has several different versions. For the sake of this discussion, I will refer to these variants as Implementations A, B, and C. While these are not implementations in the typical sense of the word – there are significant differences between each – they do share similar concepts and some code. Implementation A is interpolated only; Implementation B is incomplete. Implementation C, which was presented on Friday, should be considered the canonical version of TrumpScript.</p>
<p>In Implementation A, function, symbol, type, and operator tables are generated concurrently, and code is executed sequentially. Implementation A supports limited interpreter action, including function calls. Implementation C, on the other hand, is compiled using an L.L.V.M. intermediate representation (I.R.).</p>
<h2>Using TrumpScript</h2>
<p>TrumpScript is extremely C-like in nature. The terminology of TrumpScript, however, reflects its status as a satirical language. To declare a new constant, use the following syntax:</p>
<pre><code>fact foo = 12
</code></pre>
<p>Similarly, a variable can be declared as follows:</p>
<pre><code>altfact bar = 12
</code></pre>
<p>Explicit type declarations are not needed in TrumpScript; types are implicitly identified. To create a disfunction, simply type:</p>
<pre><code>disfunc some() -&gt; Huge {

    indict 32

}
</code></pre>
<p>The language is relatively simple, but it is quickly developing as I continue to expand the standard library (std in TrumpScript parlance). Loading in a file from the std is relatively simple, as demonstrated here with the math module:</p>
<pre><code>tariff math
</code></pre>
<p>TrumpScript is capable of performing basic operations. In Implementations A and B, the programmer is able to define custom operators. This is a long-term goal for the current implementation, but is not yet complete. Similarly, although functions can be called in implementations A and B, function calling is not currently supported in implementation C. Steps have been made to rectify this situation, but I am not there quite yet.</p>
<p>TrumpScript operators are quite adept, and are able to differentiate between different input and output types, acknowledge precedence, and more. Thus the function</p>
<pre><code>@main disfunc main() -&gt; Huge {

    indict 1 + 3 * 12 + 6

}
</code></pre>
<p>would indict a value of <code>43</code> when called. Supported types currently include <code>Huge</code> (a 64-bit integer value), <code>Claim</code> (a boolean value, which may be set either to <code>wrong</code> or <code>right</code>), and <code>Covfefe</code> (a double-precision floating-point value). Custom type support is a possible future direction for Implementation C, and one supported to some extent by Implementation A.</p>
<h2>Concurrent Compilation Background</h2>
<p>For Implementation A’s concurrent interpretation of TrumpScript, I made use of concurrency features in the Swift programming language. These features were introduced to Swift relatively recently, but enable safe and modern concurrent approaches.</p>
<p>Implementations A and C both make use of async/await. Async/await is a model for achieving task-based concurrency. In an asynchronous await model, programmers identify points where it is safe to suspend execution on one function and resume or start execution on another.</p>
<p>The async/await paradigm does not inherently make code multithreaded. The purpose of the async/await model instead ensures that multithreaded coding is thread-safe. By defining arbitrary points where execution can be suspended, async/await ensures that the programmer does not need to worry about execution being suspended at other points. Yet although the paradigm is mostly effective, it does not guarantee thread safety: even when using async/await, race conditions remain possible.</p>
<p>Async/await is a relatively new approach to concurrency, developed during the aughts. The paradigm’s greatest benefit is that it can be added to code relatively easily, with minimal boilerplate code. Nevertheless, the async/await model continues to be improved. <a href="https://doi.org/10.1016/j.jlamp.2019.03.002">Haller et al. 2019</a> identified future improvements which could be made to the model, specifically by integrating async/await with observable objects, in order to enable asynchronous streams of programming.</p>
<p>In Swift, the async/await model allows for another key programming paradigm to be introduced: the actor. As explained by <a href="https://doi.org/10.1145/3001886.3001890">De Koster et al. 2016</a>, actors rely on a principle of isolation. Actors help prevent race conditions by preventing their internal state from being written to by anything other than their own functions. Moreover, actors may only execute a single function at a time; any function called on an actor is added to a sequentially executed queue. This means that although actors are thread-safe, they can be performance bottlenecks for multithreaded code.</p>
<p>Swift’s implementation of actors is relatively intuitive. Unfortunately, however, the constraints inherent to using actors make converting an existing type into an actor a disfavorable proposition. Nevertheless, actors are found in all implementations of TrumpScript, and are key to enabling multithreaded interpretation and compilation.</p>
<p>Although actors and async/await options are useful for ensuring thread safety, they do not enable concurrency by themselves. Swift allows programmers the options of directly creating threads, as well as a task model.</p>
<p>Swift’s task model provides a useful abstraction for threads; it can make use of so-called ”virtual threads” and manages the actual number of threads used based on available system resources. Tasks can be created within the context of any function, but for optimal performance, it is best to create them within a TaskGroup, which can be instructed to execute its tasks in a number of different ways.</p>
<p>In Implementation A, for example, a TaskGroup is used to effectively construct an implicit barrier guaranteeing specific state promises before executing it constructs the symbol table. A similar approach is intended for use with Implementation C, which already has actors and async/await compliant functions ready for use.</p>
<h2>Language Development</h2>
<p>All TrumpScript implementations build lookup tables early in the compilation or interpretation process. These lookup tables use a combination of sets and dictionaries, both of which have <code>O(1)</code> performance time in Swift when used to look up values.</p>
<p>Unfortunately, however, Swift’s sets and dictionaries are not thread-safe. In order to use them safely, I include them either as properties in actors, or, as in one case in Implementation C, on a class restricted to use on a single thread. This approach allows me to safely use these high performance structures despite their lack of multithreaded safety guarantees.</p>
<p>As previously discussed, there is significant overlap between different implementations of TrumpScript. This overlap is particularly noteworthy in the first part of compilation: the lexer.</p>
<p>Tokenizing and delineating code is the first step in all three implementations of TrumpScript. The design of tokens has evolved significantly, however; whereas Implementations A and B used custom token enumerations, Implementation C uses a simple structure wrapper around a text value associated with dozens of computed boolean properties. This approach allows me to easily and elegantly adjust my regex matching without needing to worry about multiple occurrences of the same check throughout my codebase.</p>
<p>All variants of TrumpScript are careful to record user-observed line numbers. This is used to ensure high-quality error checks, particularly in Implementations A and B. (Implementation C currently relies on a whole lot of <code>fatalError(:_)</code> calls, but this is expected to change in the near future.)</p>
<p>Parallel compilation is not yet fully functional for implementation C, but it is almost ready, and will follow the design used in Implementation A, which builds tables in several groups: in each group, tables are generated independently; each group has dependencies on tables introduced in earlier groups. Implementation A uses a <code>generate()</code> function to prepare for interpretation; Implementation C uses a similar <code>compile(:_)</code> function to pipeline the TrumpScript code to machine code.</p>
<p>Although traditional strong/weak scalability testing is not appropriate for task-based concurrency, the parallel version of the <code>generate()</code> method in Implementation A is noticeably faster than the linear version, despite the fact that they ultimately perform the exact same tasks. Performance improvements can be measured by analyzing the time taken to complete all code in the generate method. Over multiple tests, performance improvements in the parallel version averaged 23 percent faster than the linear equivalent.</p>
<p>To enable compilation in Implementation C, I made use of the L.L.V.M. abstract assembly language. L.L.V.M. is an efficient approach to compilation because of its broad usage, robust support, and plentiful compiler targets. Rather than using L.L.V.M. code generation options, I opted to generate I.R. through my own files and pass my IR directly to the L.L.V.M. code, which I called from my C++ file. In turn, Swift was able to call my C++ function thanks to a bridging header.</p>
<p>In order to maximize the efficiency of my compiled code, I have the L.L.V.M. A.P.I. perform multiple optimization passes to fold constants, to remove unnecessary stack allocations, and to maximize computational speed and efficiency. All told, the resulting assembly code is remarkably efficient.</p>
<h2>Acknowledgements</h2>
<p>The satire and technical complexity of TrumpScript have made it an exciting project. I imagine I will continue working on it in the future. But even at its current state, quite a few people deserve thanks for their part in bringing it to life.</p>
<p>My thanks to the advice and support of Professors Paul Cantrell, Libby Shoop, Jed Carlson, and Lauren Milne, all of Macalester College. Thank you to the many people who suggested hilarious terminology and laughed alongside me as I worked on the language and my presentation. Building such a complex system is no simple feat, and I couldn’t have it without so many wonderful people working alongside me.</p>
<p>Finally, thank you to my brother, Milo, who flew halfway across the United States to see me present TrumpScript. It’s been great hanging out with you, and thank you for putting up with me.</p>
                <div class = "bottomText">
                    <p class = "bottomText">©2025 Eliora Hansonbrook. All Rights Reserved.</p>
                </div>
            </div>
        </div>
    </body>
</html>